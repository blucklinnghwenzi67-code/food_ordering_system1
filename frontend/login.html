<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login</title>
<style>
body{margin:0;height:100vh;display:flex;justify-content:center;align-items:center;font-family:Arial,sans-serif;background:linear-gradient(135deg,#ff6a00,#ee0979);}
.card{background:#fff;width:380px;padding:30px;border-radius:12px;box-shadow:0 15px 40px rgba(0,0,0,0.3);text-align:center;}
.card input{width:100%;padding:12px;margin-bottom:15px;border-radius:6px;border:1px solid #ccc;}
.card button{width:100%;padding:12px;border:none;border-radius:6px;color:#fff;background:linear-gradient(to right,#ff6a00,#ee0979);}
.card button:hover{opacity:0.9;}
#msg{text-align:center;margin-bottom:15px;font-size:14px;}
.error{color:red;}
</style>
</head>
<body>
<div class="card">
<h2>Login</h2>
<div id="msg"></div>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<p>Don't have an account? <a href="register.html">Register</a></p>
</div>
<script>
function login(){
    const msg=document.getElementById("msg");
    const email=document.getElementById("email").value.trim();
    const password=document.getElementById("password").value;
    if(!email||!password){msg.innerHTML="<span class='error'>All fields required</span>";return;}

    fetch("../backend/auth/login.php",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body: JSON.stringify({email,password})
    })
    .then(res=>res.json())
    .then(data=>{
        if(data.status=="success"){
            window.location.href="dashboard.php";
        }else{
            msg.innerHTML="<span class='error'>"+data.message+"</span>";
        }
    })
    .catch(err=>{
        console.error(err);
        msg.innerHTML="<span class='error'>Server error</span>";
    });
}
</script>
</body>
</html>